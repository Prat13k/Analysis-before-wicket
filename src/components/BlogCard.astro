---
import { formatDate } from '../lib/utils';

export interface Props {
  blog: {
    id: string;
    slug: string;
    title: string;
    description: string;
    country1: string;
    country2: string;
    type: string;
    readTime: number;
    publishedAt: Date;
  };
}

const { blog } = Astro.props;
const date = formatDate(blog.publishedAt);
---

<article class="card h-full flex flex-col">
  <div class="p-6">
    <div class="flex items-center justify-between mb-4">
      <div class="flex items-center">
        <img 
          src={`/images/flags/${blog.country1.toLowerCase()}.svg`} 
          alt={`${blog.country1} flag`} 
          class="w-10 h-6 object-cover rounded-sm"
        />
        <span class="mx-2">vs</span>
        <img 
          src={`/images/flags/${blog.country2.toLowerCase()}.svg`} 
          alt={`${blog.country2} flag`} 
          class="w-10 h-6 object-cover rounded-sm"
        />
      </div>
      
      <span class={`text-sm font-medium py-1 px-3 rounded-full ${blog.type === 'pre-match' ? 'bg-green-200 text-green-800' : 'bg-green-900 text-white'}`}>
        {blog.type === 'pre-match' ? 'Pre-match' : 'Post-match'}
      </span>
    </div>
    
    <h3 class="text-xl font-bold mb-2">{blog.title}</h3>
    <p class="text-gray-600 mb-4">{blog.description}</p>
    
    <div class="mt-auto flex items-center justify-between text-sm text-gray-500">
      <span>{date} â€¢ {blog.readTime} min</span>
      <a href={`/blog/${blog.slug}`} class="text-green-800 font-medium hover:text-green-900">Read More</a>
    </div>
  </div>
</article>